<div class="min-h-screen flex items-center justify-center bg-base-200">
    <div class="card w-full max-w-sm shadow-xl bg-base-100">
        <div class="card-body">
            <h2 class="card-title text-2xl font-bold text-center justify-center mb-6">Create Account</h2>

            <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">

                <!-- Error Message -->
                @if (errorMessage()) {
                <div class="alert alert-error text-sm py-2">
                    <span>{{ errorMessage() }}</span>
                </div>
                }

                <!-- Username -->
                <div class="form-control">
                    <label class="label" for="username">
                        <span class="label-text">Username</span>
                    </label>
                    <input type="text" id="username" formControlName="username" placeholder="Username"
                        class="input input-bordered"
                        [class.input-error]="registerForm.get('username')?.invalid && registerForm.get('username')?.touched" />
                </div>

                <!-- Email -->
                <div class="form-control">
                    <label class="label" for="email">
                        <span class="label-text">Email</span>
                    </label>
                    <input type="email" id="email" formControlName="email" placeholder="Email"
                        class="input input-bordered"
                        [class.input-error]="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" />
                </div>

                <!-- Name Fields -->
                <div class="flex gap-2">
                    <div class="form-control w-1/2">
                        <label class="label" for="firstName">
                            <span class="label-text">First Name</span>
                        </label>
                        <input type="text" id="firstName" formControlName="firstName" placeholder="First Name"
                            class="input input-bordered"
                            [class.input-error]="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched" />
                    </div>
                    <div class="form-control w-1/2">
                        <label class="label" for="lastName">
                            <span class="label-text">Last Name</span>
                        </label>
                        <input type="text" id="lastName" formControlName="lastName" placeholder="Last Name"
                            class="input input-bordered"
                            [class.input-error]="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched" />
                    </div>
                </div>

                <!-- Password -->
                <div class="form-control">
                    <label class="label" for="password">
                        <span class="label-text">Password</span>
                    </label>
                    <input type="password" id="password" formControlName="password" placeholder="Password"
                        class="input input-bordered"
                        [class.input-error]="registerForm.get('password')?.invalid && registerForm.get('password')?.touched" />
                </div>

                <div class="form-control mt-6">
                    <button type="submit" class="btn btn-primary" [disabled]="registerForm.invalid || isLoading()">
                        @if (isLoading()) {
                        <span class="loading loading-spinner"></span>
                        }
                        Register
                    </button>
                </div>

                <div class="text-center mt-4 text-sm">
                    Already have an account? <a routerLink="/login" class="link link-primary">Login here</a>
                </div>

            </form>
        </div>
    </div>
</div>